<!-- 결제수단 -->
<div class="ui_accordion cart_list">
	<dl>
		<dt class="on">
			<strong class="tit">결제 수단 선택</strong>
			<button type="button"><span class="sr_only">열기</span></button>
		</dt>
		<dd class="single">
			<div class="ui_accordion payway" data-open-type="single">
				<th:block th:each="payMethod : ${payMethodResult.payMethodExList}">
				<!-- 원페이 -->
				<dl th:if="${apMember != null and payMethod.payServiceCode == 'inicis-pg' and payMethod.payMethodCode == 'wpay'}">
					<dt class="onepay on">
						<button type="button" name="rdoPayMethod" id="w_pay"  value="WPAY" checked="checked"
								th:onclick="|setPayment(this,'WPAY','','${payMethod.payMethodSn}','${payMethod.payServiceCode}','${payMethod.payMethodCode}')|">
							<span class="ie_press"><img ap:src="@{/images/order/txt_onepay.png}" alt="ONE pay"> <em>간편한 원클릭 결제</em></span>
						</button>
						<span class="check_wrap">
							<input type="checkbox" id="tobeContinueWPAY"><label for="tobeContinueWPAY">선택한 결제 수단을 다음에도 사용</label>
						</span>
					</dt>
				</dl>
				<!-- // 원페이 -->

				<!-- 신용카드 결제 -->
				<dl th:if="${payMethod.payServiceCode == 'inicis-pg' and payMethod.payMethodCode == 'credit-card'}" class="line">
					<dt>
						<button type="button" name="rdoPayMethod" id="credit"
								th:onclick="|setPayment(this,'wcard','','${payMethod.payMethodSn}','${payMethod.payServiceCode}','${payMethod.payMethodCode}')|">
							신용카드 결제
						</button>
						<span class="check_wrap">
							<input type="checkbox" id="tobeContinueCredit"><label for="tobeContinueCredit">선택한 결제 수단을 다음에도 사용</label>
						</span>
					</dt>
					<dd>
						<ul class="credit_list">
							<th:block th:each="creditcardCo : ${payMethod.creditcardCoExList}">
							<li th:if="${creditcardCo.creditcardCoCode == '04'}">
								<a href="#none" name="credit" id="credit1" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_hyundai.png}" alt=""></span>
									<span class="name">현대카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '06'}">
								<a href="#none" name="credit" id="credit2" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_kb.png}" alt=""></span>
									<span class="name">KB국민카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '11'}">
								<a href="#none" name="credit" id="credit3" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_bc.png}" alt=""></span>
									<span class="name">비씨카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '12'}">
								<a href="#none" name="credit" id="credit4" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_samsung.png}" alt=""></span>
									<span class="name">삼성카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '03'}">
								<a href="#none" name="credit" id="credit5" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_lotte.png}" alt=""></span>
									<span class="name">롯데카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '44'}">
								<a href="#none" name="credit" id="credit6" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_woori.png}" alt=""></span>
									<span class="name">우리카드<br>(구.평화VISA)</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '34'}">
								<a href="#none" name="credit" id="credit7" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_hana.png}" alt=""></span>
									<span class="name">하나카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '14'}">
								<a href="#none" name="credit" id="credit8" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_shinhan.png}" alt=""></span>
									<span class="name">신한카드<br>(구.LG카드 포함)</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '41'}">
								<a href="#none" name="credit" id="credit9" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_nh.png}" alt=""></span>
									<span class="name">NH농협카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '43'}">
								<a href="#none" name="credit" id="credit10" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_citi.png}" alt=""></span>
									<span class="name">씨티카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '01'}">
								<a href="#none" name="credit" id="credit11" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_keb.png}" alt=""></span>
									<span class="name">외환카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '55'}">
								<a href="#none" name="credit" id="credit12" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_kakao.png}" alt=""></span>
									<span class="name">카카오뱅크</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '71'}">
								<a href="#none" name="credit" id="credit13" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_epost.png}" alt=""></span>
									<span class="name">우체국체크</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '32'}">
								<a href="#none" name="credit" id="credit14" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_kj.png}" alt=""></span>
									<span class="name">광주카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '33'}">
								<a href="#none" name="credit" id="credit14_1" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_jb.png}" alt=""></span>
									<span class="name">전북카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '51'}">
								<a href="#none" name="credit" id="credit15" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_sh.png}" alt=""></span>
									<span class="name">수협카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '52'}">
								<a href="#none" name="credit" id="credit16" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_jeju.png}" alt=""></span>
									<span class="name">제주카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '95'}">
								<a href="#none" name="credit" id="credit17" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_sbi.png}" alt=""></span>
									<span class="name">저축은행체크</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '48'}">
								<a href="#none" name="credit" id="credit18" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_cu.png}" alt=""></span>
									<span class="name">신협체크</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == 'HD'}">
								<a href="#none" name="credit" id="credit19" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_kdb.png}" alt=""></span>
									<span class="name">KDB산업체크</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == '54'}">
								<a href="#none" name="credit" id="credit20" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_mg.png}" alt=""></span>
									<span class="name">MG새마을금고<br>체크</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == 'HD'}">
								<a href="#none" name="credit" id="credit21" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_lotte.png}" alt=""></span>
									<span class="name">아모레퍼시픽<br>롯데체크카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == 'HD'}">
								<a href="#none" name="credit" id="credit22" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_lotte.png}" alt=""></span>
									<span class="name">아모레퍼시픽<br>롯데카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == 'HD'}">
								<a href="#none" name="credit" id="credit23" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_shinhan.png}" alt=""></span>
									<span class="name">아모레퍼시픽<br>신한카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == 'HD'}">
								<a href="#none" name="credit" id="credit24" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_samsung.png}" alt=""></span>
									<span class="name">아모레퍼시픽<br>삼성카드</span>
								</a>
							</li>
							<li th:if="${creditcardCo.creditcardCoCode == 'HD'}">
								<a href="#none" name="credit" id="credit25" th:onclick="|setCreditcardInfo('${creditcardCo.creditcardCoCode}', '${creditcardCo.creditcardCoSn}')|">
									<span class="thumb"><img ap:src="@{/images/order/credit_kb.png}" alt=""></span>
									<span class="name">아모레퍼시픽<br>KB카드</span>
								</a>
							</li>
							</th:block>
						</ul>
					</dd>
				</dl>
				<!-- // 신용카드 결제 -->

				</th:block>
				<!-- 다른결제 수단 -->
				<dl>
					<dt>
						<button type="button" name="rdoPayMethod" id="pay3" onclick="setPayment(this,'other','','','','');">
							다른결제 수단
						</button>
						<span class="check_wrap">
							<input type="checkbox" id="tobeContinueOther"><label for="tobeContinueOther">선택한 결제 수단을 다음에도 사용</label>
						</span>
					</dt>
					<dd>
						<div class="credit_list ">
							<ul>
								<th:block th:each="payMethod : ${payMethodResult.payMethodExList}">
									<li class="naver" th:if="${payMethod.payServiceCode == 'naver-pg' and payMethod.payMethodCode == 'naverpay'}">
										<a href="#none" class="on" name="other" id="n_pay"
										   th:onclick="|setPayment(this,'NAVERPAY','','${payMethod.payMethodSn}','${payMethod.payServiceCode}','${payMethod.payMethodCode}')|">
											<span class="thumb"><img ap:src="@{/images/order/pay_naver.png}" alt=""></span>
											<span class="name">네이버페이</span>
										</a>
									</li>
									<li th:if="${payMethod.payServiceCode == 'inicis-pg' and payMethod.payMethodCode == 'payco'}">
										<a href="#none" name="other" id="payco"
										   th:onclick="|setPayment(this,'wcard','onlypayco','${payMethod.payMethodSn}','${payMethod.payServiceCode}','${payMethod.payMethodCode}')|">
											<span class="thumb"><img ap:src="@{/images/order/pay_payco.png}" alt=""></span>
											<span class="name">페이코</span>
										</a>
									</li>
									<li class="bankbook" th:if="${payMethod.payServiceCode == 'inicis-pg' and payMethod.payMethodCode == 'virtual-account'}">
										<a href="#none" name="other" id="remit_bank"
										   th:onclick="|setPayment(this,'vbank','','${payMethod.payMethodSn}','${payMethod.payServiceCode}','${payMethod.payMethodCode}')|">
											<span class="thumb"><img ap:src="@{/images/order/pay_bank_01.png}" alt=""></span>
											<span class="name">무통장입금<br>(가상계좌)</span>
										</a>
									</li>
									<li class="realtime" th:if="${payMethod.payServiceCode == 'inicis-pg' and payMethod.payMethodCode == 'bank-ac-transfer'}">
										<a href="#none" name="other" id="account_transfer"
										   th:onclick="|setPayment(this,'bank','','${payMethod.payMethodSn}','${payMethod.payServiceCode}','${payMethod.payMethodCode}')|">
											<span class="thumb"><img ap:src="@{/images/order/pay_bank_02.png}" alt=""></span>
											<span class="name">실시간<br>계좌이체</span>
										</a>
									</li>
									<li class="phone" th:if="${payMethod.payServiceCode == 'inicis-pg' and payMethod.payMethodCode == 'mobile-phone-pay'}">
										<a href="#none" name="other" id="phone"
										   th:onclick="|setPayment(this,'mobile','','${payMethod.payMethodSn}','${payMethod.payServiceCode}','${payMethod.payMethodCode}')|">
											<span class="thumb"><img ap:src="@{/images/order/pay_mpp.png}" alt=""></span>
											<span class="name">휴대폰결제</span>
										</a>
									</li>
									<li th:if="${payMethod.payServiceCode == 'eximpay' and payMethod.payMethodCode == 'eximpay'}">
										<a href="#none" name="other" id="ximpay"
										   th:onclick="|setPayment(this,'globalCreditCard','','${payMethod.payMethodSn}','${payMethod.payServiceCode}','${payMethod.payMethodCode}')|">
											<span class="thumb"><img ap:src="@{/images/order/pay_gcc.png}" alt=""></span>
											<span class="name">Global Credit<br>Card</span>
										</a>
									</li>
									<li th:if="${payMethod.payServiceCode == 'paypal' and payMethod.payMethodCode == 'pay-pal'}">
										<a href="#none" name="other" id="paypal"
										   th:onclick="|setPayment(this,'paypal','','${payMethod.payMethodSn}','${payMethod.payServiceCode}','${payMethod.payMethodCode}')|">
											<span class="thumb"><img ap:src="@{/images/order/pay_paypal.png}" alt=""></span>
											<span class="name">PayPal</span>
										</a>
									</li>
									<li th:if="${payMethod.payServiceCode == 'salaryMinus' and payMethod.payMethodCode == 'salary-minus'}">
										<a href="#none" name="other" id="salaryMinus"
										   th:onclick="|setPayment(this,'salaryMinus','','${payMethod.payMethodSn}','${payMethod.payServiceCode}','${payMethod.payMethodCode}')|">
											<span class="thumb"><img ap:src="@{/images/order/pay_minus.png}" alt=""></span>
											<span class="name">급여차감</span>
										</a>
									</li>
								</th:block>
							</ul>
						</div>



						<!-- 네이버페이-->
						<div class="receive  cont_naver">
							<p class="txt_tel">네이버ID로 별도 앱 설치없이 신용카드 또는 은행계좌 정보를 등록하여 네이버페이 비밀번호로 결제할 수 있는 간편결제 서비스입니다.</p>
							<p class="txt_tel">네이버페이에서 제공하는 카드사별 무이자, 청구할인 혜택을 받을 수 있습니다. 주문 변경 시 카드사별 혜택 및 할부 적용여부는 해당 카드사 정책에 따라 변경될 수 있습니다.</p>
							<p class="txt_tel">결제 가능한 신용카드: 신한, 삼성, 현대, BC, 국민, 하나, 롯데, NH농협, 씨티</p>
							<p class="txt_tel">결제 가능한 은행: NH농협, 국민, 신한, 우리, 기업, SC제일, 부산, 경남, 수협, 우체국, 미래에셋대우, 대구, 광주, 전북, 제주, 새마을금고</p>
						</div>
						<!-- //네이버페이 -->

						<!-- 무통장 입금-->
						<div class="receive cont_bankbook">
							<ul class="ui_list txt">
								<li>
									<span class="stit">입금기한</span>
									<div class="name">2018년 06월 15일</div>
								</li>
								<li>
									<span class="stit"><label for="input4_1">입금은행</label></span>
									<div class="bank">
										<span class="select_wrap">
											<select tabindex="-1" name="" id="input4_1" title="입금은행을 선택하세요">
												<option value="">입금은행을 선택하세요</option>
											</select>
										</span>
									</div>
								</li>
								<!-- 에스크로 결제 여부 삭제_2018-08-23 -->
								<li>
									<span class="stit top">현금영수증</span>
									<div class="radio">
										<span class="check_wrap rdo_type2"><input type="radio" name="radio3" id="radio3_1" checked="checked"><label for="radio3_1">네</label></span>
										<span class="check_wrap rdo_type2"><input type="radio" name="radio3" id="radio3_2"><label for="radio3_2">아니오</label></span>
										<span class="check_wrap rdo_type2"><input type="radio" name="radio3" id="radio3_3"><label for="radio3_3">미신청</label></span>
										<div class="space">
											<span class="input_wrap"><input type="text" name="" id="" placeholder="휴대전화 또는 사업자등록번호"></span>
										</div>
										<div class="space">
											<span class="check_wrap"><input type="checkbox" id="input5_1"><label for="input5_1">현재 현금영수증 정보를 저장합니다.</label></span>
										</div>
									</div>
								</li>
							</ul>
							<p class="txt_tel mgt10">무통장입금은 인터넷뱅킹, 텔레뱅킹, 은행창구를 이용해 주세요.(ATM 사용은 불가합니다.)
							<p class="txt_tel">주문접수 후 입금되지 않고 주문일 포함 7일이 지나면 주문은 자동 취소됩니다.</p>
						</div>
						<!-- // 무통장 입금 -->

						<!-- 실시간 계좌이체(에스크로 결제 여부 삭제_2018-08-23)
                        <div class="receive cont_realtime">
                        </div>
                        <!-- // 실시간 계좌이체 -->

						<!-- 휴대폰 결제-->
						<div class="receive cont_phone">
							<p class="txt_tel">결제금액은 다음 달 휴대폰 요금에 합산하여 청구됩니다.</p>
							<p class="txt_tel">통신사별로 한도 금액 내에서만 결제할 수 있습니다.</p>
							<p class="txt_tel">휴대폰결제 최소는 결제 당월에만 가능하며, 익월 취소 시 휴대폰요금은 청구되고 고객님이 지정한 은행계좌 혹은 예치금으로 환불됩니다.</p>
						</div>
						<!-- // 휴대폰 결제 -->

					</dd>
				</dl>
				<!-- // 다른결제 수단 -->
			</div>
		</dd>
	</dl>
</div>
<!-- // 다른결제 수단 -->


<script th:inline="javascript">

	$( document ).ready(function() {
		defaultPayMethodInit();
	});

	//지난번 사용했던 결제 수단 선택하기
	function defaultPayMethodInit(){
		var nextUsePayMethodCode = /*[[${ordEx.nextUsePayMethodCode}]]*/ null;

		if (nextUsePayMethodCode) {
			var clicked = true; // 2018-09-10 추가
			switch (nextUsePayMethodCode) {
				case 'wpay':
					<!--원터치 간편결제-->
					$('#w_pay').trigger("click");
					break;
				case 'naverpay':
					<!--네이버페이-->
					$('#pay3').trigger("click");
					$('#n_pay').trigger("click");
					break;
				case 'payco':
					<!--페이코-->
					$('#pay3').trigger("click");
					$('#payco').trigger("click");
					break;
				case 'kakaopay':
					<!--카카오페이-->
					$('#pay3').trigger("click");
					$('#kakao_pay').trigger("click");
					break;
				case 'paypal':
					<!--Paypal-->
					$('#pay3').trigger("click");
					$('#paypal').trigger("click");
					break;
				case 'credit-card':
					<!--신용카드-->
					$('#credit').trigger("click");
					break;
				case 'bank-ac-transfer':
					<!--실시간계좌이체-->
					$('#credit').trigger("click");
					$('#account_transfer').trigger("click");
					break;
				case 'virtual-account':
					<!--가상계좌-->
					$('#credit').trigger("click");
					$('#remit_bank').trigger("click");
					break;
				case 'mobile-phone-pay':
					<!--휴대폰결제-->
					$('#credit').trigger("click");
					$('#phone').trigger("click");
					break;
				default:
					clicked = false; // 2018-09-10 추가
					break;
			}
			// 2018-09-10 추가
			if(clicked){
				$('[name=nextPayUseYn]').trigger("click");
			}
		}
	};

	//결제 수단 선택 상태값
	$('input:radio[name="rdoPayMethod"]').change(function() {
		$('.other_noty_area > div').hide();
		$('.payment_list').find('.card_list').hide();
		$('.card_list .card').find('input').prop('checked',false);
		if (!$(this).next().hasClass('one_pay')) {
			$(this).closest('li').find('.card_list').show();
		}
	});

	//다른결제수단 선택시 레이어 노출
	$('input:radio[name="other"]').change(function() {
		var class_name = $(this).next().attr('class');
		$('.other_noty_area > div').hide();
		if ($(this).next().hasClass(class_name)) {
			$(this).closest('.card_list').next('.other_noty_area').find('.'+class_name).show();
		}
	});

	/* 선택한 결제 수단을 다음에도 사용 */
	$('[name=nextPayUseYn]').on('click', function(e){
		if($(this).is(":checked")) {
			var selectedPaymethod = $('input:radio[name="rdoPayMethod"]:checked').val();
			if (selectedPaymethod == null || selectedPaymethod == '') {
				AP.modal.alert("결제수단을 선택해 주세요.");
				$('[name=nextPayUseYn]:checked').prop('checked', false);
				$('[name=nextPayUseYn]').attr("value", "N");
			} else {
				$('[name=nextPayUseYn]:checked').prop('checked', true);
				$('[name=nextPayUseYn]').attr("value","Y");
			}
		}else{
			$('[name=nextPayUseYn]:checked').prop('checked', false);
			$('[name=nextPayUseYn]').attr("value","N");
		}
	});

	/* 결제수단 선택에 따른 UI */
	function setPayment(obj, payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode) {

		if(payMethod == 'WPAY' && goPayMethod == ''){ // 원터치 간편결제
			isWpayMember(obj, payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);	//wpay 회원가입 여부 체크
			//결제수단 선택된 값 셋팅
			setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);
		}
		else if(payMethod == 'wcard' && goPayMethod == ''){ // 신용카드
			//결제수단 선택된 값 셋팅
			setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);
		}
		else if(payMethod == 'wcard' && goPayMethod == 'onlypayco'){ // 신용카드(페이코결제)
			//결제수단 선택된 값 셋팅
			setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);
		}
		else if(payMethod == 'wcard' && goPayMethod == 'onlykakaopay'){ // 신용카드(카카오페이)
			//결제수단 선택된 값 셋팅
			setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);
		}
		else if(payMethod == 'NAVERPAY' && goPayMethod == ''){ // 네이버 페이
			//결제수단 선택된 값 셋팅
			setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);
		}
		else if(payMethod == 'mobile' && goPayMethod == ''){ // 모바일결제(휴대폰 결제)
			//결제수단 선택된 값 셋팅
			setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);
		}
		else if(payMethod == 'bank' && goPayMethod == ''){ // 실시간 계좌이체
			//결제수단 선택된 값 셋팅
			setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);
		}
		else if(payMethod == 'vbank' && goPayMethod == ''){ // 가상계좌(무통장 입금)
			//결제수단 선택된 값 셋팅
			setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);
		}
		else if(payMethod == 'globalCreditCard' && goPayMethod == ''){ // 해외 신용카드 결제
			//결제수단 선택된 값 셋팅
			setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);
		}
		else if(payMethod == 'paypal' && goPayMethod == ''){ // 페이팔
			//결제수단 선택된 값 셋팅
			setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);
		}
		else if(payMethod == 'salaryMinus' && goPayMethod == ''){ // 급여차감
			//결제수단 선택된 값 셋팅
			setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode);
		}
		else {
			//결제수단 선택된 값 셋팅
			setPaymentInput('', '', '', '', '');
			setCreditcardInfo('', '');
		}

	};

	/* 결제수단 선택된 값 셋팅 */
	function setPaymentInput(payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode) {
		$('input:hidden[name=payMethod]').val(payMethod);
		$('input:hidden[name=goPayMethod]').val(goPayMethod);
		$('input:hidden[name=payMethodSn]').val(payMethodSn);
		$('input:hidden[name=payServiceCode]').val(payServiceCode);
		$('input:hidden[name=payMethodCode]').val(payMethodCode);
	};

	/* 신용카드 선택 정보 저장 */
	function setCreditcardInfo(cardCo, creditcardCoSn) {
		console.log("???");
		$('input:hidden[name=cardCo]').attr("value", cardCo);
		$('input:hidden[name=creditcardCoSn]').attr("value", creditcardCoSn);
	};

	/* 현금영수증 발급신청 구분 */
	function setCash(type) {
		if (type == "x"){
			$("#reg_num").hide();
			$("#receipt1").attr("checked", true);
			//validation
			$("#receipt").prop("required", false);
		} else if (type == "0"){
			$("#reg_num").show();
			$("#receipt").attr("placeholder","휴대폰번호 혹은 카드번호 숫자만 입력");
			$("#receipt").attr("required","required");
			$("#receipt").attr("data-msg-required","휴대폰번호 10자리(11자리) 또는 현금 영수증 카드번호 18자리를 입력하세요.");
			$("#receipt").focus();
		} else if (type == "1"){
			$("#reg_num").show();
			$("#receipt").attr("placeholder", "사업자등록번호 숫자만 입력");
			$("#receipt").attr("required","required");
			$("#receipt").attr("data-msg-required","사업자등록번호를 입력하세요.");
			$("#receipt").focus();
		}
	};

	/*wpay 가입여부 확인*/
	function isWpayMember(obj, payMethod, goPayMethod, payMethodSn, payServiceCode, payMethodCode){

		AP.api.getMemberWPayInfo({}, {

		}).done(function (data) {
			if (data.result != "success"){

				AP.modal.confirm( 'WPAY 회원가입이 필요합니다. 회원가입하시겠습니까?' ).addListener( 'modal-close', function (e) {
					if(e.closeType == 'confirm'){// WPAY 회원가입 요청
						getWPayMemReqCall();
					}
				});
			} else {
				//WPAY 회원일 경우

			}
		}).fail(function (e) {
			AP.modal.alert("[ajax.fail]실패");
		}).always(function () {
		});
	};

	/*wpay 회원가입 페이지 호출*/
	var wpayRegistPopup;
	function getWPayMemReqCall() {

		wpayRegistPopup = window.open('about:blank','wpayRegistPopup');
		var $form = $("form[name='orderForm']");

		$form.attr("method", "post");
		$form.attr("action", "/payment/wpayRegist");
		$form.attr("target", "wpayRegistPopup");
		$form.submit();

	};

</script>