{{#each list}}

<!--/* 일반,예약,특가 싱글상품 */-->
{{#xif singleProdYn '==' 'Y'}}
	<div class="cart_item_box">
		{{#each cartProdExList}}
			<div class="cart_name_wrap">
				<span class="check_wrap">
					<input type="checkbox" name="chkBox" id="chkBox{{prodEx.prodSn}}" value="{{../onlineProdSn}}" {{#if (ne ../saleDisplayStatus 'OnSale') }}disabled{{/if}}  {{condition (and (eq ../saleDisplayStatus 'OnSale')(eq ../selectYn 'Y') ) 'checked' ''}}>
					<label for="chkBox{{prodEx.prodSn}}">체크</label>
				</span>
				{{#xif prodEx.repProdImgEx '!=' null }} <img src="{{ prodEx.repProdImgEx.imgUrl }}"  class="thm_cart_item" alt=""> {{/xif}}
				{{#xif prodEx.repProdImgEx '==' null }}
					{{#xif ../repOnlineProdImgEx '!=' null }}
						<img src="{{ ../repOnlineProdImgEx.imgUrl }}" class="thm_cart_item" alt="">
					{{/xif}}
					{{#xif ../repOnlineProdImgEx '==' null }}
						<img src="/images/cart/no_img.png" class="thm_cart_item" alt="">
					{{/xif}}
				{{/xif}}
				<div class="cart_table_cell">
					{{#xif onlineProdFlagExList.length '>' 0}}
						<div class="cart_item_exclusive_wrap">
							{{#each onlineProdFlagExList}}
								{{#switch prodFlagCode}}
									{{#case "icon_reco_new"}} <span class="cart_item_exclusive">신상품</span> {{/case}}
									{{#case "icon_reco_best_w"}} <span class="cart_item_exclusive">베스트</span> {{/case}}
									{{#case "icon_pr_prod"}} <span class="cart_item_exclusive">이벤트</span> {{/case}}
									{{#case "icon_reco_md"}} <span class="cart_item_exclusive">MD추천</span> {{/case}}
									{{#case "icon_reco_online"}} <span class="cart_item_exclusive">온라인전용</span> {{/case}}
								{{/switch}}
							{{/each}}
						</div>
					{{/xif}}
					<span class="cart_item_name"><a href="#none" class="title" onclick="fnProdDetail({{ ../onlineProdSn }})">{{ ../onlineProdName }}</a></span>
				</div>
				<button type="button" class="btn_cart_item_del" onclick="removeCartProd('{{ ../../cartSn }}', '{{cartProdSn}}')"><span class="sr_only">없애기</span></button>
			</div>

			<div class="cart_item_info">
				<input type="hidden" name="onlinePrdSn" value="{{prodEx.prodSn}}"/>
				<input type="hidden" name="cartProdSn" value="{{cartProdSn}}"/>
				<input type="hidden" name="prdInfo_{{../onlineProdSn}}" value="{{cartProdSn}}"/>
				<input type="hidden" name="saleDisplayStatus_{{prodEx.prodSn}}" value="{{prodEx.saleDisplayStatus}}"/>
				<!--/* 품절/조기소진일경우 버튼제어 X */-->
				{{#if (ne prodEx.saleDisplayStatus 'OnSale') }}
					<span class="ui_spinner small" data-disabled="true">
						<button class="spinner_decrease" type="button" title="제품 수량 감소"><img alt="제품 수량 감소" src="{{ absolutePath '/images/common/ico_minus1.gif' }}"></button>
						<input class="spinner_input" type="text" name="cartProdQty" value="{{ this.cartProdQty }}">
						<button class="spinner_increase" type="button" title="제품 수량 증가"><img alt="제품 수량 증가" src="{{ absolutePath '/images/common/icon_plus1.gif' }}"></button>
					</span>
				{{/if}}
				<!--/* 최대구매제한여부가 'Y'일 경우 최대구매수량 존재 */-->
				{{#if (eq prodEx.saleDisplayStatus 'OnSale') }}
					{{#if (eq prodEx.maxPurLimitYn 'Y') }}
						<span data-min="{{ this.prodEx.minPurLimitQty }}" data-max="{{ this.prodEx.maxPurLimitQty }}" class="ui_spinner small" data-step="1" data-disabled="false">
							<button class="spinner_decrease" type="button" title="제품 수량 감소" onclick="prodQtyOperate(this, {{ ../../cartSn }}, {{ this.cartProdSn }}, {{ this.prodEx.prodSn }}, '{{ this.integrationMembershipExchYn }}', '{{ this.activityPointExchYn }}', '{{ this.storePickupYn }}', '{{ this.storeSn }}', '-')"><img alt="제품 수량 감소" src="{{ absolutePath '/images/common/ico_minus1.gif' }}"></button>
							<input class="spinner_input" type="text" name="cartProdQty" value="{{ this.cartProdQty }}">
							<button class="spinner_increase" type="button" title="제품 수량 증가"
							{{#if (and (eq prodEx.prodTypeCode 'Prod')(gt cartProdQty prodEx.salePossibleQty) ) }}disabled{{/if}}
							{{#if (and (eq prodEx.prodTypeCode 'Presale')(gt cartProdQty prodEx.presalePossibleQty) ) }}disabled{{/if}}
							{{#if (and (eq prodEx.prodTypeCode 'SpPriceSale')(gt cartProdQty prodEx.spPriceSalePossibleQty) ) }}disabled{{/if}}
							{{#if (and (eq prodEx.prodTypeCode 'SpPriceAward')(gt cartProdQty prodEx.spPriceSalePossibleQty) ) }}disabled{{/if}}
							onclick="prodQtyOperate(this, {{ ../../cartSn }}, {{ this.cartProdSn }}, {{ this.prodEx.prodSn }}, '{{ this.integrationMembershipExchYn }}', '{{ this.activityPointExchYn }}', '{{ this.storePickupYn }}', '{{ this.storeSn }}', '+')"><img alt="제품 수량 증가" src="{{ absolutePath '/images/common/icon_plus1.gif' }}"></button>
						</span>
					{{else}}
						<!--/* 최대구매제한여부가 'N'일경우 최대구매수량은 존재하지 않음 */-->
						<span data-min="{{ this.prodEx.minPurLimitQty }}" class="ui_spinner small" data-step="1" data-disabled="false">
							<button class="spinner_decrease" type="button" title="제품 수량 감소" onclick="prodQtyOperate(this, {{ ../../cartSn }}, {{ this.cartProdSn }}, {{ this.prodEx.prodSn }}, '{{ this.integrationMembershipExchYn }}', '{{ this.activityPointExchYn }}', '{{ this.storePickupYn }}', '{{ this.storeSn }}', '-')"><img alt="제품 수량 감소" src="{{ absolutePath '/images/common/ico_minus1.gif' }}"></button>
							<input class="spinner_input" type="text" name="cartProdQty" value="{{ this.cartProdQty }}">
							<button class="spinner_increase" type="button" title="제품 수량 증가"
							{{#if (and (eq prodEx.prodTypeCode 'Prod')(gt cartProdQty prodEx.salePossibleQty) ) }}disabled{{/if}}
							{{#if (and (eq prodEx.prodTypeCode 'Presale')(gt cartProdQty prodEx.presalePossibleQty) ) }}disabled{{/if}}
							{{#if (and (eq prodEx.prodTypeCode 'SpPriceSale')(gt cartProdQty prodEx.spPriceSalePossibleQty) ) }}disabled{{/if}}
							{{#if (and (eq prodEx.prodTypeCode 'SpPriceAward')(gt cartProdQty prodEx.spPriceSalePossibleQty) ) }}disabled{{/if}}
							onclick="prodQtyOperate(this, {{ ../../cartSn }}, {{ this.cartProdSn }}, {{ this.prodEx.prodSn }}, '{{ this.integrationMembershipExchYn }}', '{{ this.activityPointExchYn }}', '{{ this.storePickupYn }}', '{{ this.storeSn }}', '+')"><img alt="제품 수량 증가" src="{{ absolutePath '/images/common/icon_plus1.gif' }}"></button>
						</span>
					{{/if}}
				{{/if}}
				<span class="cart_price">
					{{#xif prodEx.saleDisplayStatus '==' 'OnSale' }}
						{{#xif this.calculationResultYn '==' 'Y'}}
							{{#xif this.calculationResultProduct.finalOnlineSalesAmountInfo '!=' null }}
								<span class="left_num">
									<strong class="num">{{numberFormat this.calculationResultProduct.finalOnlineSalesAmountInfo.standardCurrency.amount }}</strong><span>원</span>
								</span>
							{{/xif}}
							{{#xif this.calculationResultProduct.productSaleAmountInfo '!=' null }}
								{{#xif this.calculationResultProduct.productSaleAmountInfo.standardCurrency.amount '!=' this.calculationResultProduct.finalOnlineSalesAmountInfo.standardCurrency.amount }}
									<span class="right_num">
										<del class="num">{{numberFormat this.calculationResultProduct.productSaleAmountInfo.standardCurrency.amount }}<span>원</span></del>
									</span>
								{{/xif}}
							{{/xif}}
						{{/xif}}
						{{#xif this.calculationResultYn '==' 'N'}}
							{{#xif this.prodEx.salePrice '!=' null }}
								<span class="left_num">
									<strong class="num">{{numberFormat (calc this.prodEx.salePrice '*' this.cartProdQty) }}</strong><span>원</span>
								</span>
							{{/xif}}
						{{/xif}}
					{{/xif}}
					{{#if (and (eq prodEx.saleDisplayStatus 'OutOfStock')(ne prodEx.prodTypeCode 'Presale') )}}
						<span class="text_sold_out">[일시품절]</span>
					{{/if}}
					{{#if (and (eq prodEx.saleDisplayStatus 'Exhaustion')(eq prodEx.prodTypeCode 'Presale') )}}
						<span class="text_sold_out">[예약판매수량소진]</span>
					{{/if}}
					{{#if (eq prodEx.saleDisplayStatus 'WaitingSale') }}
						<span class="text_sold_out">[판매대기]</span>
					{{/if}}
					{{#if (eq prodEx.saleDisplayStatus 'EndSale') }}
						<span class="text_sold_out">[판매종료]</span>
					{{/if}}
					{{#if (eq prodEx.saleDisplayStatus 'SuspendSale') }}
						<span class="text_sold_out">[판매일시중지]</span>
					{{/if}}
					{{#if (eq prodEx.saleDisplayStatus 'WaitingDisplay') }}
						<span class="text_sold_out">[판매대기]</span>
					{{/if}}
					{{#if (eq prodEx.saleDisplayStatus 'EndDisplay') }}
						<span class="text_sold_out">[판매종료]</span>
					{{/if}}
					{{#if (eq prodEx.saleDisplayStatus 'PermanentEnd') }}
						<span class="text_sold_out">[영구종료]</span>
					{{/if}}
				</span>
			</div>
			{{#xif cartProdAwardList.length '>' 0 }}
				{{#each cartProdAwardList}}
					<div class="cart_free_gift">
						{{#if (ne awardProdEx.repProdImgEx null) }}
							<span class="thm"><img src="{{ awardProdEx.repProdImgEx.imgUrl }}" alt=""/></span>
						{{else}}
							<span class="thm"><img src="{{ absolutePath '/images/cart/no_img.png.gif' }}" alt=""/></span>
						{{/if}}
						<span class="info">
							<span>사은품 : {{ awardProdEx.prodName }}</span>
							<span>기간 : {{dateFormat awardStartDt "YYYY.MM.DD"}} ~ {{dateFormat awardEndDt "YYYY.MM.DD"}}</span>
						</span>
					</div>
				{{/each}}
			{{/xif}}
		{{/each}}
	</div>
{{/xif}}

<!--/* 일반,예약,특가 그룹상품 */-->
{{#xif singleProdYn '==' 'N'}}
	<div class="cart_item_box type2">
		<div class="cart_name_wrap">
			<span class="check_wrap">
				<input type="checkbox" name="chkBox" id="chkBox{{ onlineProdSn }}" value="{{onlineProdSn}}" {{#if (ne saleDisplayStatus 'OnSale') }}disabled{{/if}}  {{condition (and (eq saleDisplayStatus 'OnSale')(eq selectYn 'Y') ) 'checked' ''}}>
				<label for="chkBox{{ onlineProdSn }}">체크</label>
			</span>
			{{#xif repOnlineProdImgEx '!=' null }}
				<img src="{{ repOnlineProdImgEx.imgUrl }}" class="thm_cart_item" alt="">
			{{else}}
				<img src="/images/cart/no_img.png" class="thm_cart_item" alt="">
			{{/xif}}
			<div class="cart_table_cell">
				<span class="cart_item_name"><a href="#none" onclick="fnProdDetail({{ onlineProdSn }})">{{ onlineProdName }}</a></span>
				{{#xif onlineProdFlagExList.length '>' 0}}
					<div class="cart_item_exclusive_wrap">
						{{#each onlineProdFlagExList}}
							{{#switch prodFlagCode}}
								{{#case "icon_reco_new"}} <span class="cart_item_exclusive">신상품</span> {{/case}}
								{{#case "icon_reco_best_w"}} <span class="cart_item_exclusive">베스트</span> {{/case}}
								{{#case "icon_pr_prod"}} <span class="cart_item_exclusive">이벤트</span> {{/case}}
								{{#case "icon_reco_md"}} <span class="cart_item_exclusive">MD추천</span> {{/case}}
								{{#case "icon_reco_online"}} <span class="cart_item_exclusive">온라인전용</span> {{/case}}
							{{/switch}}
						{{/each}}
					</div>
				{{/xif}}
			</div>
		</div>
		<div class="cart_item_info nospinner">
			<span class="cart_price">
				{{#if (and (ne finalOnlineSalesAmountInfo null)(gt finalOnlineSalesAmountInfo.standardCurrency.amount 0) ) }}
					<span class="left_num">
						<strong class="num">{{numberFormat finalOnlineSalesAmountInfo.standardCurrency.amount }}</strong><span>원</span>
					</span>
				{{/if}}
				{{#if (and (ne productSaleAmountInfo null)(ne productSaleAmountInfo.standardCurrency.amount finalOnlineSalesAmountInfo.standardCurrency.amount))}}
					<span class="right_num">
						<del class="num">{{numberFormat productSaleAmountInfo.standardCurrency.amount }}<span>원</span></del>
					</span>
				{{/if}}
			</span>
		</div>
		<div class="cart_item_scroll">
			{{#each cartProdExList}}
				<div class="cart_item_info">
					<input type="hidden" name="onlinePrdSn" value="{{prodEx.prodSn}}"/>
					<input type="hidden" name="cartProdSn" value="{{cartProdSn}}"/>
					<input type="hidden" name="prdInfo_{{../onlineProdSn}}" value="{{cartProdSn}}"/>
					<input type="hidden" name="saleDisplayStatus_{{prodEx.prodSn}}" value="{{prodEx.saleDisplayStatus}}"/>

					<div class="cart_option_name">
						{{#xif prodEx.repProdImgEx '!=' null }} <img src="{{ prodEx.repProdImgEx.imgUrl }}" class="cart_option_name_thm" alt=""> {{/xif}}
						{{#xif prodEx.repProdImgEx '==' null }}
							{{#xif ../repOnlineProdImgEx '!=' null }}
								<img src="{{ ../repOnlineProdImgEx.imgUrl }}" class="cart_option_name_thm" alt="">
							{{/xif}}
							{{#xif ../repOnlineProdImgEx '==' null }}
								<img src="/images/cart/no_img.png" class="cart_option_name_thm" alt="">
							{{/xif}}
						{{/xif}}
						<span>{{ prodEx.prodName }}</span>
					</div>
					<!--/* 품절/조기소진일경우 버튼제어 X */-->
					{{#if (ne prodEx.saleDisplayStatus 'OnSale') }}
						<span class="ui_spinner small" data-disabled="true">
							<button class="spinner_decrease" type="button" title="제품 수량 감소"><img alt="제품 수량 감소" src="{{ absolutePath '/images/common/ico_minus1.gif' }}"></button>
							<input class="spinner_input" type="text" name="cartProdQty" value="{{ this.cartProdQty }}">
							<button class="spinner_increase" type="button" title="제품 수량 증가"><img alt="제품 수량 증가" src="{{ absolutePath '/images/common/icon_plus1.gif' }}"></button>
						</span>
					{{/if}}
					<!--/* 최대구매제한여부가 'Y'일 경우 최대구매수량 존재 */-->
					{{#if (eq prodEx.saleDisplayStatus 'OnSale') }}
						{{#if (eq prodEx.maxPurLimitYn 'Y') }}
							<span data-min="{{ this.prodEx.minPurLimitQty }}" data-max="{{ this.prodEx.maxPurLimitQty }}" class="ui_spinner small" data-step="1" data-disabled="false">
								<button class="spinner_decrease" type="button" title="제품 수량 감소" onclick="prodQtyOperate(this, {{ ../../cartSn }}, {{ this.cartProdSn }}, {{ this.prodEx.prodSn }}, '{{ this.integrationMembershipExchYn }}', '{{ this.activityPointExchYn }}', '{{ this.storePickupYn }}', '{{ this.storeSn }}', '-')"><img alt="제품 수량 감소" src="{{ absolutePath '/images/common/ico_minus1.gif' }}"></button>
								<input class="spinner_input" type="text" name="cartProdQty" value="{{ this.cartProdQty }}">
								<button class="spinner_increase" type="button" title="제품 수량 증가"
								{{#if (and (eq prodEx.prodTypeCode 'Prod')(gt cartProdQty prodEx.salePossibleQty) ) }}disabled{{/if}}
								{{#if (and (eq prodEx.prodTypeCode 'Presale')(gt cartProdQty prodEx.presalePossibleQty) ) }}disabled{{/if}}
								{{#if (and (eq prodEx.prodTypeCode 'SpPriceSale')(gt cartProdQty prodEx.spPriceSalePossibleQty) ) }}disabled{{/if}}
								{{#if (and (eq prodEx.prodTypeCode 'SpPriceAward')(gt cartProdQty prodEx.spPriceSalePossibleQty) ) }}disabled{{/if}}
								onclick="prodQtyOperate(this, {{ ../../cartSn }}, {{ this.cartProdSn }}, {{ this.prodEx.prodSn }}, '{{ this.integrationMembershipExchYn }}', '{{ this.activityPointExchYn }}', '{{ this.storePickupYn }}', '{{ this.storeSn }}', '+')"><img alt="제품 수량 증가" src="{{ absolutePath '/images/common/icon_plus1.gif' }}"></button>
							</span>
						{{else}}
							<!--/* 최대구매제한여부가 'N'일경우 최대구매수량은 존재하지 않음 */-->
							<span data-min="{{ this.prodEx.minPurLimitQty }}" class="ui_spinner small" data-step="1" data-disabled="false">
								<button class="spinner_decrease" type="button" title="제품 수량 감소" onclick="prodQtyOperate(this, {{ ../../cartSn }}, {{ this.cartProdSn }}, {{ this.prodEx.prodSn }}, '{{ this.integrationMembershipExchYn }}', '{{ this.activityPointExchYn }}', '{{ this.storePickupYn }}', '{{ this.storeSn }}', '-')"><img alt="제품 수량 감소" src="{{ absolutePath '/images/common/ico_minus1.gif' }}"></button>
								<input class="spinner_input" type="text" name="cartProdQty" value="{{ this.cartProdQty }}">
								<button class="spinner_increase" type="button" title="제품 수량 증가"
								{{#if (and (eq prodEx.prodTypeCode 'Prod')(gt cartProdQty prodEx.salePossibleQty) ) }}disabled{{/if}}
								{{#if (and (eq prodEx.prodTypeCode 'Presale')(gt cartProdQty prodEx.presalePossibleQty) ) }}disabled{{/if}}
								{{#if (and (eq prodEx.prodTypeCode 'SpPriceSale')(gt cartProdQty prodEx.spPriceSalePossibleQty) ) }}disabled{{/if}}
								{{#if (and (eq prodEx.prodTypeCode 'SpPriceAward')(gt cartProdQty prodEx.spPriceSalePossibleQty) ) }}disabled{{/if}}
								onclick="prodQtyOperate(this, {{ ../../cartSn }}, {{ this.cartProdSn }}, {{ this.prodEx.prodSn }}, '{{ this.integrationMembershipExchYn }}', '{{ this.activityPointExchYn }}', '{{ this.storePickupYn }}', '{{ this.storeSn }}', '+')"><img alt="제품 수량 증가" src="{{ absolutePath '/images/common/icon_plus1.gif' }}"></button>
							</span>
						{{/if}}
					{{/if}}
					<button type="button" class="btn_md btn_option_change" onclick="fnUnitVariationProds('{{ ../../cartSn}}', '{{ cartProdSn }}', '{{ prodEx.prodSn }}','{{ cartProdQty }}','{{ storePickupYn }}')">옵션변경</button>
					<span class="cart_price">
						{{#if (eq prodEx.saleDisplayStatus 'OnSale') }}
							{{#if (and (eq calculationResultYn 'Y')(gt calculationResultProduct.finalOnlineSalesAmountInfo.standardCurrency.amount 0) )}}
								<span class="left_num">
									<strong class="num">{{numberFormat calculationResultProduct.finalOnlineSalesAmountInfo.standardCurrency.amount}}</strong><span>원</span>
								</span>
							{{/if}}
							{{#if (and (eq calculationResultYn 'N')(ne prodEx.salePrice null))}}
								<span class="left_num">
									<strong class="num">{{numberFormat (calc prodEx.salePrice '*' cartProdEx.cartProdQty) }}</strong><span>원</span>
								</span>
							{{/if}}
						{{/if}}
						{{#if (and (eq prodEx.saleDisplayStatus 'OutOfStock')(ne prodEx.prodTypeCode 'Presale'))}}
							<span class="text_sold_out">[일시품절]</span>
						{{/if}}
						{{#if (and (eq prodEx.saleDisplayStatus 'Exhaustion')(eq prodEx.prodTypeCode 'Presale'))}}
							<span class="text_sold_out">[예약판매수량소진]</span>
						{{/if}}
						{{#if (eq prodEx.saleDisplayStatus 'WaitingSale') }}
							<span class="text_sold_out">[판매대기]</span>
						{{/if}}
						{{#if (eq prodEx.saleDisplayStatus 'EndSale') }}
							<span class="text_sold_out">[판매종료]</span>
						{{/if}}
						{{#if (eq prodEx.saleDisplayStatus 'SuspendSale') }}
							<span class="text_sold_out">[판매일시중지]</span>
						{{/if}}
						{{#if (eq prodEx.saleDisplayStatus 'WaitingDisplay') }}
							<span class="text_sold_out">[판매대기]</span>
						{{/if}}
						{{#if (eq prodEx.saleDisplayStatus 'EndDisplay') }}
							<span class="text_sold_out">[판매종료]</span>
						{{/if}}
						{{#if (eq prodEx.saleDisplayStatus 'PermanentEnd') }}
							<span class="text_sold_out">[영구종료]</span>
						{{/if}}
					</span>
					<button type="button" class="btn_option_del" onclick="removeCartProd('{{ ../../cartSn}}', '{{ cartProdSn }}')"><span class="sr_only">없애기</span></button>
				</div>
				{{#xif cartProdAwardList.length '>' 0 }}
					{{#each cartProdAwardList}}
						<div class="cart_free_gift">
							{{#if (ne awardProdEx.repProdImgEx null) }}
								<span class="thm"><img src="{{ awardProdEx.repProdImgEx.imgUrl }}" alt=""/></span>
							{{else}}
								<span class="thm"><img src="{{ absolutePath '/images/cart/no_img.png.gif' }}" alt=""/></span>
							{{/if}}
							<span class="info">
								<span>사은품 : {{ awardProdEx.prodName }}</span>
								<span>기간 : {{dateFormat awardStartDt "YYYY.MM.DD"}} ~ {{dateFormat awardEndDt "YYYY.MM.DD"}}</span>
							</span>
						</div>
					{{/each}}
				{{/xif}}
			{{/each}}
		</div>
	</div>
{{/xif}}
{{/each}}